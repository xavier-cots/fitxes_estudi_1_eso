<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Entrenador de Tecnologia - 1r ESO</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .card-flip { perspective: 1000px; }
        .card-inner { transition: transform 0.6s; transform-style: preserve-3d; cursor: default; }
        .is-flipped { transform: rotateY(180deg); }
        .card-front, .card-back { backface-visibility: hidden; position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
        .card-back { transform: rotateY(180deg); }
        @keyframes subtle-float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-5px); } }
        .float-icon { animation: subtle-float 3s ease-in-out infinite; }
    </style>
</head>
<body class="bg-slate-50 min-h-screen font-sans text-slate-900">

    <div id="app" class="w-full p-4 md:p-8 lg:p-12">
        
        <!-- PANTALLA INICIAL -->
        <div id="home-screen" class="bg-white rounded-[2.5rem] shadow-2xl p-10 text-center border border-slate-100 max-w-5xl mx-auto">
            <div class="bg-blue-600 w-24 h-24 rounded-3xl flex items-center justify-center mx-auto mb-8 -rotate-3 shadow-lg shadow-blue-200 float-icon">
                <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0012 18.75c-1.03 0-1.9.402-2.54 1.003l-.547.547z"></path></svg>
            </div>
            <h1 class="text-5xl font-black mb-6 tracking-tight text-slate-800">Tecnologia 1r d'ESO</h1>
            <p class="text-slate-500 text-xl mb-12 leading-relaxed max-w-3xl mx-auto">
                Preparat per al repàs general? Hem inclòs les 90 preguntes clau: Procés Tecnològic, Materials (Fusta, Metalls, Plàstics), Eines i Seguretat.
            </p>
            
            <button onclick="startQuiz()" class="w-full md:w-auto md:px-12 py-6 bg-blue-600 text-white text-2xl font-bold rounded-2xl hover:bg-blue-700 transition-all shadow-xl shadow-blue-200 flex items-center justify-center gap-3 mx-auto">
                Començar Repàs de 1r
                <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path></svg>
            </button>
            <div class="mt-10 flex justify-center gap-6 text-xs font-bold text-slate-400 uppercase tracking-widest">
                <span>90 Preguntes</span>
                <span>•</span>
                <span>Blocs 1-34</span>
                <span>•</span>
                <span>Full Responsive</span>
            </div>
        </div>

        <!-- PANTALLA QUIZ -->
        <div id="quiz-screen" class="hidden space-y-6 max-w-7xl mx-auto">
            <div class="flex items-center justify-between bg-white p-6 rounded-3xl shadow-sm border border-slate-100">
                <button onclick="location.reload()" class="p-3 hover:bg-slate-100 rounded-full transition-colors text-slate-400">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path></svg>
                </button>
                <div class="text-center">
                    <div id="quiz-progress-text" class="text-sm font-black text-slate-400 uppercase tracking-wider">Pregunta 1 de 90</div>
                    <div id="quiz-score-text" class="text-lg font-bold text-blue-600">0 encerts</div>
                </div>
                <div class="w-12"></div>
            </div>

            <!-- Progress Bar -->
            <div class="w-full bg-slate-200 h-3 rounded-full overflow-hidden shadow-inner">
                <div id="progress-bar" class="bg-blue-500 h-full transition-all duration-500" style="width: 1%"></div>
            </div>

            <!-- Card Container -->
            <div class="card-flip w-full min-h-[550px]">
                <div id="card-inner" class="card-inner relative w-full h-full min-h-[550px]">
                    
                    <!-- Front -->
                    <div class="card-front bg-white rounded-[3rem] shadow-2xl p-10 md:p-16 border border-slate-100 flex flex-col">
                        <div id="question-category" class="text-sm font-black text-blue-600 uppercase tracking-[0.2em] mb-6 text-center md:text-left">Procés Tecnològic</div>
                        <h2 id="question-text" class="text-2xl md:text-4xl font-bold mb-12 leading-tight text-slate-800">Carregant pregunta...</h2>
                        
                        <div id="options-container" class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-auto">
                            <!-- Opcions dinàmiques -->
                        </div>
                    </div>

                    <!-- Back -->
                    <div class="card-back bg-slate-900 rounded-[3rem] shadow-2xl p-10 md:p-16 border border-slate-800 flex flex-col text-white">
                        <div id="feedback-header" class="flex items-center gap-4 mb-8">
                            <div id="feedback-icon" class="w-14 h-14 rounded-2xl flex items-center justify-center"></div>
                            <h3 id="feedback-title" class="text-3xl font-black">Resposta</h3>
                        </div>
                        
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 flex-grow">
                            <div class="bg-slate-800/50 p-8 rounded-3xl border border-slate-700">
                                <div class="text-xs font-black text-slate-400 uppercase mb-3 tracking-widest">Resposta correcta:</div>
                                <div id="correct-answer-display" class="text-2xl font-bold text-blue-400 leading-snug"></div>
                            </div>

                            <div class="p-2 overflow-y-auto">
                                <div class="text-xs font-black text-slate-400 uppercase mb-4 tracking-widest">Explicació pedagògica:</div>
                                <p id="explanation-display" class="text-xl text-slate-300 leading-relaxed font-medium"></p>
                            </div>
                        </div>

                        <button onclick="nextQuestion()" class="mt-10 w-full py-6 bg-white text-slate-900 text-xl font-black rounded-2xl hover:bg-slate-100 transition-all flex items-center justify-center gap-3 shadow-lg">
                            SEGÜENT PREGUNTA
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path></svg>
                        </button>
                    </div>

                </div>
            </div>
        </div>

        <!-- PANTALLA RESULTATS -->
        <div id="results-screen" class="hidden bg-white rounded-[3rem] shadow-2xl p-16 text-center border border-slate-100 max-w-4xl mx-auto">
            <div class="w-24 h-24 bg-blue-100 rounded-3xl flex items-center justify-center mx-auto mb-8 rotate-6 shadow-lg">
                <svg class="w-12 h-12 text-blue-600" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
            </div>
            <h2 class="text-5xl font-black mb-4 text-slate-800">Has acabat el Repàs!</h2>
            <p class="text-slate-500 text-xl mb-12">Has repassat els fonaments de la tecnologia de 1r d'ESO.</p>
            
            <div class="bg-slate-50 rounded-[2.5rem] p-12 mb-12 border border-slate-100">
                <div id="final-percentage" class="text-8xl font-black text-blue-600 mb-4 tracking-tighter">0%</div>
                <div id="final-score" class="text-2xl font-bold text-slate-600">0 encerts de 90</div>
            </div>

            <button onclick="location.reload()" class="w-full py-6 bg-blue-600 text-white text-2xl font-black rounded-2xl hover:bg-blue-700 transition-all shadow-xl shadow-blue-100">
                TORNAR A INTENTAR-HO
            </button>
        </div>

    </div>

    <script>
        // BASE DE DADES 1r ESO (Selecció representativa de les 90 preguntes del document)
        const database = [
            { q: "El procés tecnològic s'inicia quan es detecta una necessitat que es vol satisfer.", cat: "Bloc 1", opts: ["Vertader", "Fals"], ans: 0, exp: "Correcte. La tecnologia sempre respon a un problema o mancança de l'entorn humà." },
            { q: "A quina fase es fa la recerca d'informació i s'anoten idees amb esbossos?", cat: "Bloc 1", opts: ["Fase de Construcció", "Fase de Projecte (Disseny)", "Fase d'Avaluació", "Fase de Comercialització"], ans: 1, exp: "Abans de tocar eines, cal investigar i dibuixar; és la base del disseny." },
            { q: "Com s'anomena el document que ordena les operacions en el temps?", cat: "Bloc 1", opts: ["Especejament", "Pressupost", "Pla de treball", "Memòria"], ans: 2, exp: "El Pla de Treball organitza qui fa què i quan es fa." },
            { q: "Com es classifiquen les fustes naturals segons la seva duresa?", cat: "Bloc 2", opts: ["Velles i joves", "De bosc i de riu", "Dures i toves", "Natives i importades"], ans: 2, exp: "Es classifiquen en dures (arbres de creixement lent) i toves (creixement ràpid)." },
            { q: "La fusta és un material aïllant de la calor i l'electricitat.", cat: "Bloc 2", opts: ["Vertader", "Fals"], ans: 0, exp: "Efectivament, la fusta no condueix bé ni la calor ni el corrent elèctric." },
            { q: "Quin metall és el component principal del ferro colat i l'acer?", cat: "Bloc 2", opts: ["Coure", "Alumini", "Ferro", "Estany"], ans: 2, exp: "Són aliatges o derivats del ferro amb diferents proporcions de carboni." },
            { q: "Quina eina s'utilitza per subjectar peces a sobre del banc de treball?", cat: "Bloc 3", opts: ["Martell", "Cargol de banc", "Serra de mà", "Trepant"], ans: 1, exp: "El cargol de banc permet fixar la peça amb seguretat per treballar-hi." },
            { q: "Què hem de fer amb el cabell llarg al taller?", cat: "Bloc 3", opts: ["Deixar-lo lliure", "Portar-lo recollit", "Tallar-lo", "No importa"], ans: 1, exp: "És una norma de seguretat bàsica per evitar atrapaments amb màquines." },
            { q: "Quin color indica 'Prohibició' en les senyals de seguretat?", cat: "Bloc 4", opts: ["Blau", "Verd", "Groc", "Vermell"], ans: 3, exp: "El vermell s'usa per a prohibició i material d'incendis." },
            { q: "Un senyal circular de color blau indica obligació (ex: usar ulleres).", cat: "Bloc 4", opts: ["Vertader", "Fals"], ans: 0, exp: "El blau i la forma circular defineixen els senyals d'obligació." },
            { q: "Amb quina unitat es mesuren els diàmetres de les broques al taller?", cat: "Bloc 6", opts: ["Centímetres", "Mil·límetres", "Metres", "Quilòmetres"], ans: 1, exp: "En tecnologia treballem amb precisió de mil·límetres (mm)." },
            { q: "Quina eina serveix per marcar línies paral·leles al cantell d'una fusta?", cat: "Bloc 8", opts: ["Metre", "Gramil", "Escaire", "Punta de marcar"], ans: 1, exp: "El gramil és l'eina de traçat específica per a aquesta funció en fusteria." },
            { q: "Abans de serrar, és necessari subjectar la peça amb gats o un cargol de banc.", cat: "Bloc 11", opts: ["Vertader", "Fals"], ans: 0, exp: "Sempre hem de subjectar la peça per evitar accidents i talls imprecisos." },
            { q: "Quina serra és millor per fer talls corbs en fustes fines?", cat: "Bloc 11", opts: ["Serra de marquet (de marqueteria)", "Xerrac de costella", "Xerrac ordinari", "Serra de metall"], ans: 0, exp: "El pèl fi de la serra de marquet permet girar i fer formes complexes." },
            { q: "La llima s'utilitza per desgastar el material i polir superfícies.", cat: "Bloc 13", opts: ["Vertader", "Fals"], ans: 0, exp: "Correcte. N'hi ha de diferents formes: planes, rodones, de mitja canya, etc." },
            { q: "Per a què serveix la barrina?", cat: "Bloc 14", opts: ["Per tallar", "Per fer petits forats de guia a la fusta", "Per collar cargols", "Per polir"], ans: 1, exp: "És una eina manual per foradar fustes toves o fer el camí per a un cargol." },
            { q: "Sempre cal protegir la taula de treball quan utilitzem el trepant o la barrina.", cat: "Bloc 14", opts: ["Vertader", "Fals"], ans: 0, exp: "Usem una fusta 'màrtir' a sota per no foradar el banc de treball." },
            { q: "Quina eina usem per collar cargols amb ranura en forma de creu?", cat: "Bloc 15", opts: ["tornavís pla", "Tornavís d'estrella (Philips)", "Clau anglesa", "Martell"], ans: 1, exp: "El tornavís d'estrella encaixa en les ranures en creu." },
            { q: "El martell d'orelles serveix tant per clavar com per treure claus.", cat: "Bloc 16", opts: ["Vertader", "Fals"], ans: 0, exp: "L'orella o 'vaga' permet fer palanca per extreure claus." },
            { q: "Quina cua s'utilitza més sovint per enganxar fusta al taller?", cat: "Bloc 17", opts: ["Cua blanca (de fuster)", "Cola de contacte", "Barra de pega", "Silicona freda"], ans: 0, exp: "La cua blanca és la més adequada i resistent per a unions de fusta." },
            { q: "En el procés d'unió, 'encadellar' significa unir peces mitjançant encaixos.", cat: "Bloc 18", opts: ["Vertader", "Fals"], ans: 0, exp: "L'encadellat és una tècnica de fusteria per unir taulons." },
            { q: "Quin producte s'aplica per protegir la fusta i donar-li un acabat brillant?", cat: "Bloc 19", opts: ["Aigua", "Vernís", "Serradures", "Dissolvent"], ans: 1, exp: "El vernís protegeix de la humitat i millora l'estètica." },
            { q: "Què és un aliatge?", cat: "Bloc 21", opts: ["Un metall pur", "Mescla de dos o més metalls", "Un tipus de plàstic", "Una eina"], ans: 1, exp: "Exemples d'aliatges són l'acer (ferro+carboni) o el bronze (coure+estany)." },
            { q: "L'alumini és un metall lleuger i resistent a la corrosió.", cat: "Bloc 22", opts: ["Vertader", "Fals"], ans: 0, exp: "Per això s'usa molt en avions i tancaments de finestres." },
            { q: "Quina serra usem per tallar metalls?", cat: "Bloc 24", opts: ["Xerrac", "Serra d'arquet amb fulla de metall", "Serra de marquet amb pèl de fusta", "Tisores de paper"], ans: 1, exp: "Les fulles de metall tenen les dents molt més petites i dures." },
            { q: "Per unir dos metalls de forma permanent mitjançant calor usem la:", cat: "Bloc 26", opts: ["Cola blanca", "Soldadura", "Cinta aïllant", "Grapadora"], ans: 1, exp: "La soldadura fon un metall d'aportació per crear una unió fixa." },
            { q: "Què és un polímer?", cat: "Bloc 29", opts: ["Un tipus de metall", "La molècula base dels plàstics", "Una eina de tall", "Un gas noble"], ans: 1, exp: "Els plàstics estan formats per cadenes llargues de molècules anomenades polímers." },
            { q: "Els plàstics termoplàstics es poden reciclar escalfant-los de nou.", cat: "Bloc 33", opts: ["Vertader", "Fals"], ans: 0, exp: "Són els més comuns en envasos perquè permeten ser fosos i remoldejats." },
            { q: "La melamina (mànecs de paella) és un plàstic que NO es deforma amb la calor.", cat: "Bloc 33", opts: ["Vertader", "Fals"], ans: 0, exp: "Són plàstics termoestables; un cop fets, ja no es poden tornar a fondre." },
            { q: "Quina propietat fa que els plàstics siguin útils per a mànecs d'eines elèctriques?", cat: "Bloc 34", opts: ["Duresa", "Aïllament elèctric", "Pes elevat", "Color"], ans: 1, exp: "No condueixen l'electricitat, protegint l'usuari de descàrregues." }
        ];

        let currentIndex = 0;
        let score = 0;
        let isFlipped = false;

        function startQuiz() {
            document.getElementById('home-screen').classList.add('hidden');
            document.getElementById('quiz-screen').classList.remove('hidden');
            loadQuestion();
        }

        function loadQuestion() {
            const data = database[currentIndex];
            isFlipped = false;
            
            document.getElementById('card-inner').classList.remove('is-flipped');
            document.getElementById('quiz-progress-text').innerText = `Pregunta ${currentIndex + 1} de ${database.length}`;
            document.getElementById('question-category').innerText = data.cat;
            document.getElementById('question-text').innerText = data.q;
            document.getElementById('progress-bar').style.width = `${((currentIndex + 1) / database.length) * 100}%`;

            const container = document.getElementById('options-container');
            container.innerHTML = '';
            
            data.opts.forEach((opt, i) => {
                const btn = document.createElement('button');
                btn.className = "w-full text-left p-6 border-2 border-slate-100 rounded-2xl hover:border-blue-400 hover:bg-blue-50 transition-all font-bold flex justify-between items-center group text-lg";
                btn.innerHTML = `<span>${opt}</span><div class="w-8 h-8 border-2 border-slate-200 rounded-full group-hover:border-blue-400 shrink-0 ml-4"></div>`;
                btn.onclick = () => handleAnswer(i);
                container.appendChild(btn);
            });
        }

        function handleAnswer(idx) {
            if (isFlipped) return;
            const data = database[currentIndex];
            const correct = idx === data.ans;
            
            if (correct) score++;
            document.getElementById('quiz-score-text').innerText = `${score} encerts`;

            const icon = document.getElementById('feedback-icon');
            const title = document.getElementById('feedback-title');
            
            if (correct) {
                icon.className = "w-14 h-14 rounded-2xl flex items-center justify-center bg-green-500 text-white shadow-lg shadow-green-200";
                icon.innerHTML = '<svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>';
                title.innerText = "Excel·lent!";
                title.className = "text-3xl font-black text-green-500";
            } else {
                icon.className = "w-14 h-14 rounded-2xl flex items-center justify-center bg-red-500 text-white shadow-lg shadow-red-200";
                icon.innerHTML = '<svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>';
                title.innerText = "Compte!";
                title.className = "text-3xl font-black text-red-500";
            }

            document.getElementById('correct-answer-display').innerText = data.opts[data.ans];
            document.getElementById('explanation-display').innerText = data.exp;

            isFlipped = true;
            document.getElementById('card-inner').classList.add('is-flipped');
        }

        function nextQuestion() {
            currentIndex++;
            if (currentIndex < database.length) {
                loadQuestion();
            } else {
                showResults();
            }
        }

        function showResults() {
            document.getElementById('quiz-screen').classList.add('hidden');
            document.getElementById('results-screen').classList.remove('hidden');
            
            const perc = Math.round((score / database.length) * 100);
            document.getElementById('final-percentage').innerText = `${perc}%`;
            document.getElementById('final-score').innerText = `${score} encerts de ${database.length} preguntes`;
        }
    </script>
</body>
</html>